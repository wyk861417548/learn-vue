##### v-model
**`v-model` 指令实现原理：**
1. v-model 放在不同元素上会被编译出不同的结果,对于文本（编译成 value + input + 指令处理），value 和 input 实现了双向绑定阻止中文的触发，指令的作用就是处理中文输入完毕后，手动触发更新。

```js
<input type='input' v-model='xxx' />

function render() {
  with(this) {
    return _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (xxx),
        expression: "xxx"
      }],
      attrs: {
        "type": "input"
      },
      domProps: {
        "value": (xxx)
      },
      on: {
        "input": function ($event) {
          if ($event.target.composing) return;
          xxx = $event.target.value
        }
      }
    })
  }
}
```
2. 绑定在组件上，会被编译成一个model对象，组件在创建虚拟节点的时候会有这个对象，查看里面是否有自定义的prop 和 event，如果没有则会被解析陈value + input 的语法糖
```
// 自定义组件
<my  v-model='xxx'></my>

function render() {
  with(this) {
    return _c('my', {
      model: {
        value: (xxx),
        callback: function ($$v) {
          xxx = $$v
        },
        expression: "xxx"
      }
    })
  }
}
```

##### .sync修饰符
<my type='input' :xx.sync='xxx'></my>

function render() {
  with(this) {
    return _c('my', {
      attrs: {
        "type": "input",
        "xx": xxx
      },
      on: {
        "update:xx": function ($event) {
          xxx = $event
        }
      }
    })
  }
}